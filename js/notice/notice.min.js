$(function(){"use strict";var t={env:{endpoint:{jp:"https://s3-ap-northeast-1.amazonaws.com/kyaraten-notice/data.json",ko:"https://s3-ap-northeast-1.amazonaws.com/kyaraten-notice/data_kr.json"},accept_language:{japan:"ja",korea:"ko"}},init:function(){this.data(),this.cacheDom(),this.bindEvent()},cacheDom:function(){this.$body=$("body"),this.$el=$(".container"),this.$toggleList=this.$el.find(".toggleList")},bindEvent:function(){t.$toggleList.on("click","a",function(t){t.preventDefault(),$(this).parent().hasClass("active")?$(this).parent().removeClass("active"):$(this).parent().addClass("active")})},data:function(){var e=t.endpoint();$.getJSON(e,function(e){$.each(e,function(e,n){var a=t.template();a.find(".title").text(n.title),a.find("time").text(n.issueDate),a.find("article").html(n.content),t.$toggleList.append(a)})})},endpoint:function(){switch(navigator.language||navigator.userLanguage){case t.env.accept_language.japan:return t.env.endpoint.jp;case t.env.accept_language.korea:return t.env.endpoint.ko;default:return t.env.endpoint.jp}},template:function(){return $('<section><a href="#"><div class="titleWrapper"><div class="title"></div><time></time></div></a><article></article></section>')}};t.init()});